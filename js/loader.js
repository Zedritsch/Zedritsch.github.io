const MAIN=document.getElementsByTagName("main")[0];async function req(url){return await(await fetch(url)).text()}async function transl(path){let lang;switch(navigator.language){case"de-DE":lang="de";break;default:document.documentElement.setAttribute("lang","en-US");return}const ARR=JSON.parse(await req("/lang/"+lang+path+".json"));for(let i in ARR){document.getElementById(i).innerHTML=ARR[i]}document.documentElement.setAttribute("lang",navigator.language)}async function rel(){if(document.documentElement.getAttribute("lang")==null)transl("");if(location.pathname=="/")location.pathname="/home";if(!(await fetch("/html"+location.pathname)).ok)location.pathname="/404";req("/html"+location.pathname).then(res=>{MAIN.innerHTML=res;transl(location.pathname)});scrollTo({behavior:"smooth",top:0/*TODO*/})}onload=rel()